const _0x23c5f4=_0x2854;(function(_0x470144,_0x3db3e0){const _0x9e5cc2=_0x2854,_0x3398f0=_0x470144();while(!![]){try{const _0x177ce0=parseInt(_0x9e5cc2(0x1a7))/0x1*(parseInt(_0x9e5cc2(0x181))/0x2)+-parseInt(_0x9e5cc2(0x1ff))/0x3+-parseInt(_0x9e5cc2(0x180))/0x4+-parseInt(_0x9e5cc2(0x1be))/0x5+parseInt(_0x9e5cc2(0x1d3))/0x6+parseInt(_0x9e5cc2(0x1a4))/0x7*(parseInt(_0x9e5cc2(0x1ea))/0x8)+parseInt(_0x9e5cc2(0x1e3))/0x9;if(_0x177ce0===_0x3db3e0)break;else _0x3398f0['push'](_0x3398f0['shift']());}catch(_0x3c9002){_0x3398f0['push'](_0x3398f0['shift']());}}}(_0x20ed,0x469d6));const _0x51d81e=(function(){let _0x32745e=!![];return function(_0x37544a,_0x4e9fe1){const _0x3b1bcf=_0x32745e?function(){if(_0x4e9fe1){const _0x157cd3=_0x4e9fe1['apply'](_0x37544a,arguments);return _0x4e9fe1=null,_0x157cd3;}}:function(){};return _0x32745e=![],_0x3b1bcf;};}()),_0x2efdda=_0x51d81e(this,function(){const _0x3b5d94=_0x2854;return _0x2efdda['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x3b5d94(0x1fd)](_0x2efdda)[_0x3b5d94(0x1e7)](_0x3b5d94(0x1bc));});_0x2efdda();const _0x5f230f=(function(){let _0x1f51e2=!![];return function(_0x465029,_0x233aa4){const _0x4c2aac=_0x1f51e2?function(){const _0x4b8608=_0x2854;if(_0x233aa4){const _0x57f07f=_0x233aa4[_0x4b8608(0x178)](_0x465029,arguments);return _0x233aa4=null,_0x57f07f;}}:function(){};return _0x1f51e2=![],_0x4c2aac;};}()),_0x1e37df=_0x5f230f(this,function(){const _0x3cfd07=_0x2854,_0x33a049=function(){const _0x5be73=_0x2854;let _0x288e59;try{_0x288e59=Function(_0x5be73(0x1d2)+_0x5be73(0x209)+');')();}catch(_0x4bfe49){_0x288e59=window;}return _0x288e59;},_0x594f67=_0x33a049(),_0x379805=_0x594f67[_0x3cfd07(0x1b3)]=_0x594f67[_0x3cfd07(0x1b3)]||{},_0x1010e0=[_0x3cfd07(0x197),_0x3cfd07(0x18c),_0x3cfd07(0x1a8),'error',_0x3cfd07(0x200),_0x3cfd07(0x1b6),_0x3cfd07(0x20c)];for(let _0xf05370=0x0;_0xf05370<_0x1010e0[_0x3cfd07(0x1fb)];_0xf05370++){const _0x5b44fc=_0x5f230f[_0x3cfd07(0x1fd)][_0x3cfd07(0x1dc)]['bind'](_0x5f230f),_0x8b16e7=_0x1010e0[_0xf05370],_0x299cd7=_0x379805[_0x8b16e7]||_0x5b44fc;_0x5b44fc[_0x3cfd07(0x1c0)]=_0x5f230f[_0x3cfd07(0x204)](_0x5f230f),_0x5b44fc['toString']=_0x299cd7[_0x3cfd07(0x196)][_0x3cfd07(0x204)](_0x299cd7),_0x379805[_0x8b16e7]=_0x5b44fc;}});_0x1e37df();let visao={'deslocamentoX':0x0,'deslocamentoY':0x0,'escala':0x1},membros=[],contadorMembros=0x1;function _0x2854(_0x11fcac,_0x26a8d6){const _0x3c46bb=_0x20ed();return _0x2854=function(_0x1e37df,_0x5f230f){_0x1e37df=_0x1e37df-0x16c;let _0x46eca4=_0x3c46bb[_0x1e37df];return _0x46eca4;},_0x2854(_0x11fcac,_0x26a8d6);}const gridSize=0x14,ancestorLabels=[_0x23c5f4(0x1a1),_0x23c5f4(0x202),_0x23c5f4(0x1ef),_0x23c5f4(0x189),_0x23c5f4(0x188),'pentavô','hexavô'],descendantLabels=[_0x23c5f4(0x19d),_0x23c5f4(0x1e0),_0x23c5f4(0x1b9),_0x23c5f4(0x20a)],linhaPai=ancestorLabels;function gerarUUID(){const _0x502e15=_0x23c5f4;return([0x989680]+-0x3e8+-0xfa0+-0x1f40+-0x174876e800)[_0x502e15(0x1d5)](/[018]/g,_0x20d676=>(_0x20d676^crypto['getRandomValues'](new Uint8Array(0x1))[0x0]&0xf>>_0x20d676/0x4)[_0x502e15(0x196)](0x10));}function criarMembro(_0x592d1a,_0x4e0cd6,_0x5c2381){const _0x1b5f55=_0x23c5f4;return{'id':gerarUUID(),'nome':_0x1b5f55(0x205)+contadorMembros++,'dataNascimento':null,'genero':null,'pais':null,'grauParentesco':null,'posicaoTela':{'x':_0x592d1a,'y':_0x4e0cd6,'tamanho':_0x5c2381},'temDescendente':![],'conexoes':[],'criadoEm':new Date()[_0x1b5f55(0x17e)](),'atualizadoEm':new Date()[_0x1b5f55(0x17e)](),'direcaoCriacao':null};}function salvarEstado(){const _0x2a6ce1=_0x23c5f4,_0x4d47bb={'visao':visao,'membros':membros,'contadorMembros':contadorMembros};localStorage[_0x2a6ce1(0x1e2)](_0x2a6ce1(0x19f),JSON[_0x2a6ce1(0x1f4)](_0x4d47bb));}function carregarEstado(){const _0x384afd=_0x23c5f4,_0x412e74=localStorage['getItem']('estadoArvoreFamiliar');if(_0x412e74){const _0x40fb72=JSON['parse'](_0x412e74);visao=_0x40fb72[_0x384afd(0x17d)],membros=_0x40fb72[_0x384afd(0x183)],contadorMembros=_0x40fb72[_0x384afd(0x1ad)];}else{const _0x15e3d4=criarMembro(0x15e,0xfa,0x64);_0x15e3d4['id']=_0x384afd(0x1d4),_0x15e3d4[_0x384afd(0x172)]='Eu',_0x15e3d4[_0x384afd(0x1de)]='Eu',membros[_0x384afd(0x177)](_0x15e3d4);}}function getParent(_0x3264b0){const _0x222073=_0x23c5f4;for(const _0x322db1 of membros){if(_0x322db1['id']===_0x3264b0['id'])continue;for(const _0x77713 of _0x322db1[_0x222073(0x199)]){if(_0x77713[_0x222073(0x1d8)]===_0x3264b0['id']&&_0x77713['direcao']===_0x222073(0x182))return _0x322db1;}}return null;}function countPrimoAncestors(_0x2d6c4c){const _0x31e81f=_0x23c5f4;let _0x31df87=0x0,_0x3ebc97=getParent(_0x2d6c4c);while(_0x3ebc97){_0x3ebc97[_0x31e81f(0x1de)]&&_0x3ebc97[_0x31e81f(0x1de)][_0x31e81f(0x1c6)]()===_0x31e81f(0x1c7)&&_0x31df87++,_0x3ebc97=getParent(_0x3ebc97);}return _0x31df87;}function getNextAncestorLabel(_0xf6110c){const _0x5e07ac=_0x23c5f4,_0x3106b4=ancestorLabels[_0x5e07ac(0x1b1)](_0xf6110c[_0x5e07ac(0x1c6)]());if(_0x3106b4===-0x1)return ancestorLabels[0x0];if(_0x3106b4<ancestorLabels[_0x5e07ac(0x1fb)]-0x1)return ancestorLabels[_0x3106b4+0x1];return _0x5e07ac(0x174)+(_0x3106b4+0x1)+')';}function getNextDescendantLabel(_0x55460f){const _0x353eac=_0x23c5f4,_0x5213a7=descendantLabels[_0x353eac(0x1b1)](_0x55460f[_0x353eac(0x1c6)]());if(_0x5213a7===-0x1)return descendantLabels[0x0];if(_0x5213a7<descendantLabels[_0x353eac(0x1fb)]-0x1)return descendantLabels[_0x5213a7+0x1];return'filho\x20(nível\x20'+(_0x5213a7+0x1)+')';}function obterParentescoAutomatico(_0x3240ac,_0x3e0bb5){const _0x2556be=_0x23c5f4,_0x107b75=_0x3240ac[_0x2556be(0x1de)]||'Eu';if(_0x3e0bb5===_0x2556be(0x1c3)){if(_0x107b75[_0x2556be(0x1c6)]()===_0x2556be(0x1e6))return'avô';if(_0x107b75[_0x2556be(0x1c6)]()==='primo')return _0x2556be(0x1e6);if(_0x107b75['toLowerCase']()==='irmao')return _0x2556be(0x1cb);if(_0x107b75[_0x2556be(0x1c6)]()==='eu')return ancestorLabels[0x0];return getNextAncestorLabel(_0x107b75);}else{if(_0x3e0bb5===_0x2556be(0x182)){if(_0x107b75['toLowerCase']()===_0x2556be(0x1af))return'neto';if(_0x107b75[_0x2556be(0x1c6)]()===_0x2556be(0x1cb))return _0x2556be(0x1af);if(_0x107b75['toLowerCase']()===_0x2556be(0x1c7))return _0x2556be(0x1c7);if(!descendantLabels['includes'](_0x107b75[_0x2556be(0x1c6)]()))return descendantLabels[0x0];return getNextDescendantLabel(_0x107b75);}else{if(_0x3e0bb5===_0x2556be(0x1f7)){if(_0x107b75[_0x2556be(0x1c6)]()==='eu'||_0x107b75[_0x2556be(0x1c6)]()===_0x2556be(0x1cb))return _0x2556be(0x1cb);return _0x2556be(0x1e6);}else{if(_0x3e0bb5===_0x2556be(0x186)){if(_0x107b75[_0x2556be(0x1c6)]()==='eu'||_0x107b75[_0x2556be(0x1c6)]()===_0x2556be(0x1c7))return'primo';return'tio';}}}}return _0x2556be(0x203);}const modalAdicionar=document[_0x23c5f4(0x1da)]('modal-adicionar'),modalAdicionarFechar=document['getElementById']('modal-adicionar-fechar'),entradaNome=document[_0x23c5f4(0x1da)](_0x23c5f4(0x18f)),entradaNascimento=document['getElementById'](_0x23c5f4(0x1c2)),entradaGenero=document['getElementById'](_0x23c5f4(0x1db)),entradaPais=document[_0x23c5f4(0x1da)](_0x23c5f4(0x1ed)),entradaParentesco=document['getElementById'](_0x23c5f4(0x1ee)),botaoAdicionarSalvar=document[_0x23c5f4(0x1da)](_0x23c5f4(0x187)),botaoAdicionarCancelar=document[_0x23c5f4(0x1da)](_0x23c5f4(0x184));modalAdicionarFechar[_0x23c5f4(0x190)]=fecharModalAdicionar,botaoAdicionarSalvar[_0x23c5f4(0x190)]=confirmarAdicionarMembro,botaoAdicionarCancelar[_0x23c5f4(0x190)]=fecharModalAdicionar;let membroPendente=null,direcaoPendente=null;function mostrarModalAdicionar(_0x260319,_0x5b548){const _0x537602=_0x23c5f4;if(_0x5b548===_0x537602(0x1c3)&&_0x260319[_0x537602(0x1de)][_0x537602(0x1c6)]()!=='eu'&&jaTemConexaoAcima(_0x260319))return;membroPendente=_0x260319,direcaoPendente=_0x5b548,entradaNome[_0x537602(0x19b)]='',entradaNascimento[_0x537602(0x19b)]='',entradaGenero[_0x537602(0x19b)]='Masculino',entradaPais[_0x537602(0x19b)]=_0x537602(0x201),entradaParentesco[_0x537602(0x19e)]='';if(_0x5b548===_0x537602(0x1c3)){if(_0x260319['grauParentesco'][_0x537602(0x1c6)]()===_0x537602(0x1a9)){let _0xa2a331=[];const _0x229d0f=membros[_0x537602(0x1f1)](_0x571411=>_0x571411['grauParentesco'][_0x537602(0x1c6)]()===_0x537602(0x1ef)&&!_0x571411['somenteLink']);_0x229d0f[_0x537602(0x1aa)](_0x5b0be5=>{const _0x136dc7=_0x537602;!_0x260319[_0x136dc7(0x199)]['some'](_0x38eb04=>_0x38eb04[_0x136dc7(0x1d8)]===_0x5b0be5['id'])&&_0xa2a331['push']({'value':_0x136dc7(0x1a3)+_0x5b0be5['id'],'label':_0x136dc7(0x208)+_0x5b0be5['nome']});}),_0xa2a331[_0x537602(0x177)]({'value':_0x537602(0x1c1),'label':_0x537602(0x1d1)}),_0xa2a331['forEach'](({value:_0x2d6abf,label:_0x399ecf})=>{const _0x26b15e=_0x537602,_0x1a6ca2=document[_0x26b15e(0x179)](_0x26b15e(0x1ca));_0x1a6ca2[_0x26b15e(0x19b)]=_0x2d6abf,_0x1a6ca2['textContent']=_0x399ecf,entradaParentesco[_0x26b15e(0x1c5)](_0x1a6ca2);}),entradaParentesco[_0x537602(0x1f0)]=![],modalAdicionar['style'][_0x537602(0x1eb)]='block';return;}if(_0x260319['grauParentesco']['toLowerCase']()==='tio'){let _0x4298a0=[];const _0x4ca9f2=membros[_0x537602(0x1f1)](_0x248614=>_0x248614['grauParentesco']['toLowerCase']()===_0x537602(0x202)&&!_0x248614[_0x537602(0x1d6)]);_0x4ca9f2[_0x537602(0x1aa)](_0x48d558=>{const _0x152dbe=_0x537602;!_0x260319['conexoes'][_0x152dbe(0x1b0)](_0x5050a9=>_0x5050a9['idDestino']===_0x48d558['id'])&&_0x4298a0[_0x152dbe(0x177)]({'value':_0x152dbe(0x1cd)+_0x48d558['id'],'label':_0x152dbe(0x1d7)+_0x48d558[_0x152dbe(0x172)]});});const _0xc1ed24=membros[_0x537602(0x1f1)](_0x3e43ac=>_0x3e43ac['grauParentesco']['toLowerCase']()===_0x537602(0x1a9)&&!_0x3e43ac[_0x537602(0x1d6)]);_0xc1ed24['forEach'](_0x2345bc=>{const _0x1c5343=_0x537602;!_0x260319[_0x1c5343(0x199)][_0x1c5343(0x1b0)](_0x2f85d8=>_0x2f85d8[_0x1c5343(0x1d8)]===_0x2345bc['id'])&&_0x4298a0[_0x1c5343(0x177)]({'value':'conectar-tioavô-'+_0x2345bc['id'],'label':_0x1c5343(0x1fa)+_0x2345bc['nome']});}),_0x4298a0[_0x537602(0x177)]({'value':'criar-tioavô','label':_0x537602(0x171)}),_0x4298a0[_0x537602(0x1aa)](({value:_0x2ace7b,label:_0x24516e})=>{const _0x459658=_0x537602,_0x4c6752=document[_0x459658(0x179)](_0x459658(0x1ca));_0x4c6752[_0x459658(0x19b)]=_0x2ace7b,_0x4c6752[_0x459658(0x1b8)]=_0x24516e,entradaParentesco['appendChild'](_0x4c6752);}),entradaParentesco[_0x537602(0x1f0)]=![],modalAdicionar[_0x537602(0x1f6)][_0x537602(0x1eb)]=_0x537602(0x1b7);return;}if(_0x260319[_0x537602(0x1de)]['toLowerCase']()===_0x537602(0x1c7)){let _0x34e397=[];const _0x52c8b3=membros[_0x537602(0x1f1)](_0x11e266=>_0x11e266['grauParentesco'][_0x537602(0x1c6)]()==='tio'&&!_0x11e266[_0x537602(0x1d6)]);_0x52c8b3['forEach'](_0x18730c=>{const _0x47e525=_0x537602;!_0x260319[_0x47e525(0x199)][_0x47e525(0x1b0)](_0x48c2e8=>_0x48c2e8[_0x47e525(0x1d8)]===_0x18730c['id'])&&_0x34e397[_0x47e525(0x177)]({'value':'conectar-tio-'+_0x18730c['id'],'label':'Conectar\x20com\x20tio\x20-\x20'+_0x18730c[_0x47e525(0x172)]});}),_0x34e397[_0x537602(0x177)]({'value':_0x537602(0x192),'label':_0x537602(0x1f3)}),_0x34e397['forEach'](({value:_0x1e8162,label:_0x3eff9a})=>{const _0x19d4bf=_0x537602,_0x32a082=document[_0x19d4bf(0x179)](_0x19d4bf(0x1ca));_0x32a082[_0x19d4bf(0x19b)]=_0x1e8162,_0x32a082[_0x19d4bf(0x1b8)]=_0x3eff9a,entradaParentesco[_0x19d4bf(0x1c5)](_0x32a082);}),entradaParentesco[_0x537602(0x1f0)]=![],modalAdicionar[_0x537602(0x1f6)][_0x537602(0x1eb)]='block';return;}}const _0x17879b=obterParentescoAutomatico(_0x260319,_0x5b548),_0xc8ed89=document[_0x537602(0x179)]('option');_0xc8ed89[_0x537602(0x19b)]=_0x17879b,_0xc8ed89[_0x537602(0x1b8)]=_0x17879b,entradaParentesco[_0x537602(0x1c5)](_0xc8ed89),entradaParentesco[_0x537602(0x1f0)]=_0x260319[_0x537602(0x1de)][_0x537602(0x1c6)]()==='eu'?![]:!![],modalAdicionar['style'][_0x537602(0x1eb)]=_0x537602(0x1b7);}function fecharModalAdicionar(){const _0x4b156c=_0x23c5f4;modalAdicionar[_0x4b156c(0x1f6)]['display']='none',membroPendente=null,direcaoPendente=null;}function confirmarAdicionarMembro(){const _0x4d6cbc=_0x23c5f4;if(!membroPendente||!direcaoPendente){fecharModalAdicionar();return;}const _0x1be20c=entradaParentesco[_0x4d6cbc(0x19b)];if(_0x1be20c['startsWith'](_0x4d6cbc(0x1cd))){const _0x3e4318=_0x1be20c[_0x4d6cbc(0x1d5)](_0x4d6cbc(0x1cd),''),_0x5363a9=membros['find'](_0x3244f7=>_0x3244f7['id']===_0x3e4318);_0x5363a9&&membroPendente[_0x4d6cbc(0x199)][_0x4d6cbc(0x177)]({'idDestino':_0x5363a9['id'],'direcao':direcaoPendente,'tipoLink':_0x4d6cbc(0x202),'somenteLink':![]});fecharModalAdicionar(),desenharTudo(),salvarEstado();return;}if(_0x1be20c==='criar-tio-bisavô'){_0x53cfba(_0x4d6cbc(0x1a6));return;}if(_0x1be20c==='criar-tioavô'){_0x53cfba('tio-avô');return;}if(_0x1be20c[_0x4d6cbc(0x1fc)](_0x4d6cbc(0x1df))){const _0x880838=_0x1be20c['replace']('conectar-tioavô-',''),_0x254b12=membros['find'](_0x5b53ea=>_0x5b53ea['id']===_0x880838);_0x254b12&&membroPendente[_0x4d6cbc(0x199)][_0x4d6cbc(0x177)]({'idDestino':_0x254b12['id'],'direcao':direcaoPendente,'tipoLink':_0x4d6cbc(0x1a9),'somenteLink':![]});fecharModalAdicionar(),desenharTudo(),salvarEstado();return;}if(_0x1be20c['startsWith']('conectar-bisavô-')){const _0x120363=_0x1be20c[_0x4d6cbc(0x1d5)](_0x4d6cbc(0x1a3),''),_0x2d34fb=membros[_0x4d6cbc(0x206)](_0x2d7601=>_0x2d7601['id']===_0x120363);_0x2d34fb&&membroPendente[_0x4d6cbc(0x199)][_0x4d6cbc(0x177)]({'idDestino':_0x2d34fb['id'],'direcao':direcaoPendente,'tipoLink':_0x4d6cbc(0x1ef),'somenteLink':![]});fecharModalAdicionar(),desenharTudo(),salvarEstado();return;}if(_0x1be20c['startsWith']('conectar-tio-')){const _0x45efc9=_0x1be20c[_0x4d6cbc(0x1d5)](_0x4d6cbc(0x173),''),_0x27bbe1=membros[_0x4d6cbc(0x206)](_0x95fd6c=>_0x95fd6c['id']===_0x45efc9);_0x27bbe1&&membroPendente[_0x4d6cbc(0x199)][_0x4d6cbc(0x177)]({'idDestino':_0x27bbe1['id'],'direcao':direcaoPendente,'tipoLink':_0x4d6cbc(0x1e6),'somenteLink':![]});fecharModalAdicionar(),desenharTudo(),salvarEstado();return;}if(_0x1be20c===_0x4d6cbc(0x192)){_0x53cfba(_0x4d6cbc(0x1e6));return;}_0x53cfba(_0x1be20c);function _0x53cfba(_0x305c0b){const _0x331d2c=_0x4d6cbc,_0x32a549=membroPendente[_0x331d2c(0x18a)];let _0x382945=_0x32a549['x'],_0x37225a=_0x32a549['y'],_0x533cb4=_0x32a549[_0x331d2c(0x1bb)];if(direcaoPendente==='topo')_0x37225a=_0x32a549['y']-_0x533cb4;if(direcaoPendente===_0x331d2c(0x182))_0x37225a=_0x32a549['y']+_0x533cb4;if(direcaoPendente==='esquerda')_0x382945=_0x32a549['x']-_0x533cb4;if(direcaoPendente==='direita')_0x382945=_0x32a549['x']+_0x533cb4;const _0x4d4195=criarMembro(_0x382945,_0x37225a,_0x533cb4);_0x4d4195[_0x331d2c(0x1f5)]=direcaoPendente,_0x4d4195[_0x331d2c(0x172)]=entradaNome[_0x331d2c(0x19b)]||_0x331d2c(0x193)+contadorMembros,_0x4d4195[_0x331d2c(0x1de)]=_0x305c0b,membros['push'](_0x4d4195),membroPendente[_0x331d2c(0x199)][_0x331d2c(0x177)]({'idDestino':_0x4d4195['id'],'direcao':direcaoPendente,'tipoLink':_0x305c0b,'somenteLink':![]});if(_0x305c0b[_0x331d2c(0x1c6)]()===_0x331d2c(0x1cb)){const _0x37f361=membroPendente[_0x331d2c(0x199)][_0x331d2c(0x206)](_0x4fccce=>_0x4fccce[_0x331d2c(0x1c8)]==='topo'&&(_0x4fccce[_0x331d2c(0x1e8)][_0x331d2c(0x1c6)]()===_0x331d2c(0x1a1)||_0x4fccce[_0x331d2c(0x1e8)][_0x331d2c(0x1c6)]()===_0x331d2c(0x1cf)));_0x37f361&&_0x4d4195[_0x331d2c(0x199)]['push']({'idDestino':_0x37f361['idDestino'],'direcao':_0x331d2c(0x1c3),'tipoLink':_0x37f361[_0x331d2c(0x1e8)],'somenteLink':![]});}(_0x305c0b[_0x331d2c(0x1c6)]()===_0x331d2c(0x1a1)||_0x305c0b[_0x331d2c(0x1c6)]()===_0x331d2c(0x1cf))&&membros['forEach'](_0x418fdd=>{const _0x240918=_0x331d2c;if(_0x418fdd['id']!==membroPendente['id']&&_0x418fdd['grauParentesco']&&_0x418fdd[_0x240918(0x1de)]['toLowerCase']()===_0x240918(0x1cb)){const _0x1f6c7d=_0x418fdd[_0x240918(0x199)]['some'](_0x41a90a=>_0x41a90a[_0x240918(0x1c8)]==='topo'&&_0x41a90a[_0x240918(0x1d8)]===_0x4d4195['id']);!_0x1f6c7d&&_0x418fdd['conexoes'][_0x240918(0x177)]({'idDestino':_0x4d4195['id'],'direcao':'topo','tipoLink':_0x305c0b[_0x240918(0x1c6)](),'somenteLink':![]});}}),membroPendente[_0x331d2c(0x1de)][_0x331d2c(0x1c6)]()!=='primo'&&(membroPendente[_0x331d2c(0x16e)]=!![]),fecharModalAdicionar(),desenharTudo(),salvarEstado();}}const elementoCanvas=document['getElementById']('meuCanvas'),contexto=elementoCanvas['getContext']('2d');function desenharTudo(){const _0x3c4382=_0x23c5f4;contexto[_0x3c4382(0x1d9)](0x0,0x0,elementoCanvas[_0x3c4382(0x1c9)],elementoCanvas['height']),contexto[_0x3c4382(0x17c)](),contexto['translate'](visao[_0x3c4382(0x18b)],visao['deslocamentoY']),contexto[_0x3c4382(0x170)](visao[_0x3c4382(0x1e5)],visao['escala']),desenharGrade(),desenharConexoes(),desenharMembros(),contexto[_0x3c4382(0x17b)]();}function desenharGrade(){const _0x2e02f3=_0x23c5f4,_0x255469=gridSize;contexto[_0x2e02f3(0x18e)]=_0x2e02f3(0x195),contexto['lineWidth']=0.5/visao[_0x2e02f3(0x1e5)];let _0x2b41ab=-visao[_0x2e02f3(0x18b)]/visao[_0x2e02f3(0x1e5)],_0x53709e=-visao[_0x2e02f3(0x194)]/visao[_0x2e02f3(0x1e5)],_0x1b0dcf=_0x2b41ab+elementoCanvas[_0x2e02f3(0x1c9)]/visao['escala'],_0x51d124=_0x53709e+elementoCanvas['height']/visao[_0x2e02f3(0x1e5)],_0x1ff940=Math['floor'](_0x2b41ab/_0x255469)*_0x255469,_0x2a3636=Math[_0x2e02f3(0x1b5)](_0x53709e/_0x255469)*_0x255469;for(let _0x607982=_0x1ff940;_0x607982<=_0x1b0dcf;_0x607982+=_0x255469){contexto[_0x2e02f3(0x1ec)](),contexto['moveTo'](_0x607982,_0x53709e),contexto[_0x2e02f3(0x1f9)](_0x607982,_0x51d124),contexto[_0x2e02f3(0x16c)]();}for(let _0x599277=_0x2a3636;_0x599277<=_0x51d124;_0x599277+=_0x255469){contexto[_0x2e02f3(0x1ec)](),contexto['moveTo'](_0x2b41ab,_0x599277),contexto['lineTo'](_0x1b0dcf,_0x599277),contexto['stroke']();}}function desenharConexoes(){const _0x384937=_0x23c5f4;contexto[_0x384937(0x18e)]=_0x384937(0x1a2),contexto[_0x384937(0x1ab)]=0x2/visao[_0x384937(0x1e5)],membros[_0x384937(0x1aa)](_0x520377=>{const _0x49b791=_0x384937;if(_0x520377[_0x49b791(0x1d6)])return;const _0x3b496c=_0x520377[_0x49b791(0x18a)];_0x520377[_0x49b791(0x199)][_0x49b791(0x1aa)](_0x22ba6a=>{const _0x187843=_0x49b791;if(_0x22ba6a[_0x187843(0x1e8)][_0x187843(0x1c6)]()==='irmao')return;const _0x291f5f=membros[_0x187843(0x206)](_0x38fbea=>_0x38fbea['id']===_0x22ba6a[_0x187843(0x1d8)]);if(!_0x291f5f)return;if((_0x520377[_0x187843(0x1de)][_0x187843(0x1c6)]()==='eu'||_0x291f5f[_0x187843(0x1de)]['toLowerCase']()==='eu')&&(_0x22ba6a[_0x187843(0x1e8)][_0x187843(0x1c6)]()===_0x187843(0x1c7)||_0x22ba6a[_0x187843(0x1e8)][_0x187843(0x1c6)]()===_0x187843(0x1cb)))return;const _0xa88974=_0x291f5f[_0x187843(0x18a)];let _0x484d7a,_0x5695c1,_0x2f41f9,_0x2e7c6b;if(_0x22ba6a['direcao']===_0x187843(0x1c3))_0x484d7a=_0x3b496c['x']+_0x3b496c['tamanho']/0x2,_0x5695c1=_0x3b496c['y'],_0x2f41f9=_0xa88974['x']+_0xa88974[_0x187843(0x1bb)]/0x2,_0x2e7c6b=_0xa88974['y']+_0xa88974[_0x187843(0x1bb)];else{if(_0x22ba6a[_0x187843(0x1c8)]==='baixo')_0x484d7a=_0x3b496c['x']+_0x3b496c[_0x187843(0x1bb)]/0x2,_0x5695c1=_0x3b496c['y']+_0x3b496c[_0x187843(0x1bb)],_0x2f41f9=_0xa88974['x']+_0xa88974[_0x187843(0x1bb)]/0x2,_0x2e7c6b=_0xa88974['y'];else{if(_0x22ba6a[_0x187843(0x1c8)]===_0x187843(0x1f7))_0x484d7a=_0x3b496c['x'],_0x5695c1=_0x3b496c['y']+_0x3b496c[_0x187843(0x1bb)]/0x2,_0x2f41f9=_0xa88974['x']+_0xa88974[_0x187843(0x1bb)],_0x2e7c6b=_0xa88974['y']+_0xa88974[_0x187843(0x1bb)]/0x2;else _0x22ba6a[_0x187843(0x1c8)]===_0x187843(0x186)?(_0x484d7a=_0x3b496c['x']+_0x3b496c[_0x187843(0x1bb)],_0x5695c1=_0x3b496c['y']+_0x3b496c[_0x187843(0x1bb)]/0x2,_0x2f41f9=_0xa88974['x'],_0x2e7c6b=_0xa88974['y']+_0xa88974[_0x187843(0x1bb)]/0x2):(_0x484d7a=_0x3b496c['x']+_0x3b496c[_0x187843(0x1bb)]/0x2,_0x5695c1=_0x3b496c['y']+_0x3b496c[_0x187843(0x1bb)]/0x2,_0x2f41f9=_0xa88974['x']+_0xa88974['tamanho']/0x2,_0x2e7c6b=_0xa88974['y']+_0xa88974[_0x187843(0x1bb)]/0x2);}}contexto[_0x187843(0x1ec)](),contexto[_0x187843(0x18d)](_0x484d7a,_0x5695c1),contexto['lineTo'](_0x2f41f9,_0x2e7c6b),contexto[_0x187843(0x16c)]();});});}const distanciaDeslocamento=0x14;function desenharMais(_0x2d14ef,_0x5c4d4f){const _0x1cf7b7=_0x23c5f4;contexto[_0x1cf7b7(0x17c)](),contexto['fillStyle']='rgba(255,\x200,\x200,\x200.3)',contexto[_0x1cf7b7(0x1ec)](),contexto[_0x1cf7b7(0x20b)](_0x2d14ef,_0x5c4d4f,0xf,0x0,0x2*Math['PI']),contexto[_0x1cf7b7(0x16f)](),contexto[_0x1cf7b7(0x18e)]=_0x1cf7b7(0x19c),contexto[_0x1cf7b7(0x1ab)]=0x3;const _0x11848d=0xa;contexto[_0x1cf7b7(0x1ec)](),contexto[_0x1cf7b7(0x18d)](_0x2d14ef,_0x5c4d4f-_0x11848d),contexto['lineTo'](_0x2d14ef,_0x5c4d4f+_0x11848d),contexto[_0x1cf7b7(0x16c)](),contexto[_0x1cf7b7(0x1ec)](),contexto[_0x1cf7b7(0x18d)](_0x2d14ef-_0x11848d,_0x5c4d4f),contexto['lineTo'](_0x2d14ef+_0x11848d,_0x5c4d4f),contexto[_0x1cf7b7(0x16c)](),contexto['restore']();}function desenharMembros(){membros['forEach'](_0x5cac6e=>{const _0x2e1450=_0x2854;if(_0x5cac6e['somenteLink'])return;const _0x11bb1b=_0x5cac6e['posicaoTela'];contexto[_0x2e1450(0x1b4)]='#4CAF50',contexto[_0x2e1450(0x1d0)](_0x11bb1b['x'],_0x11bb1b['y'],_0x11bb1b[_0x2e1450(0x1bb)],_0x11bb1b[_0x2e1450(0x1bb)]);const _0x1d2e32=_0x11bb1b[_0x2e1450(0x1bb)]/0x2,_0x20d3aa=_0x5cac6e['grauParentesco']?_0x5cac6e['grauParentesco'][_0x2e1450(0x1c6)]():'';(_0x20d3aa==='eu'&&!_0x5cac6e[_0x2e1450(0x199)][_0x2e1450(0x1b0)](_0x3d91f1=>{const _0x33b5ee=_0x2e1450,_0x4a5294=_0x3d91f1['tipoLink'][_0x33b5ee(0x1c6)]();return _0x4a5294==='pai'||_0x4a5294===_0x33b5ee(0x1cf);})||(_0x20d3aa===_0x2e1450(0x1c7)?countPrimoAncestors(_0x5cac6e)===0x0:!![])&&_0x20d3aa!==_0x2e1450(0x1cb)&&_0x20d3aa!==_0x2e1450(0x1af)&&_0x20d3aa!==_0x2e1450(0x1e0)&&_0x20d3aa!==_0x2e1450(0x19d)&&!_0x5cac6e[_0x2e1450(0x199)]['some'](_0x2c088e=>_0x2c088e[_0x2e1450(0x1c8)]===_0x2e1450(0x1c3))&&_0x20d3aa!==linhaPai[linhaPai[_0x2e1450(0x1fb)]-0x1])&&desenharMais(_0x11bb1b['x']+_0x1d2e32,_0x11bb1b['y']-distanciaDeslocamento);let _0xb7c470=!![];_0x5cac6e['direcaoCriacao']&&_0x5cac6e[_0x2e1450(0x1f5)]===_0x2e1450(0x1c3)&&(_0xb7c470=![]);if(_0x20d3aa==='neto')_0xb7c470=![];else{if(_0x20d3aa===_0x2e1450(0x1c7)){const _0x26595d=countPrimoAncestors(_0x5cac6e);_0x26595d>=0x2?_0xb7c470=![]:desenharMais(_0x11bb1b['x']+_0x1d2e32,_0x11bb1b['y']+_0x11bb1b[_0x2e1450(0x1bb)]+distanciaDeslocamento+0x5);}else _0xb7c470&&desenharMais(_0x11bb1b['x']+_0x1d2e32,_0x11bb1b['y']+_0x11bb1b[_0x2e1450(0x1bb)]+distanciaDeslocamento);}_0x20d3aa==='eu'&&(desenharMais(_0x11bb1b['x']-distanciaDeslocamento,_0x11bb1b['y']+_0x11bb1b['tamanho']/0x2),desenharMais(_0x11bb1b['x']+_0x11bb1b[_0x2e1450(0x1bb)]+distanciaDeslocamento,_0x11bb1b['y']+_0x11bb1b['tamanho']/0x2)),desenharTextoMembro(_0x5cac6e);});}function desenharTextoMembro(_0x1dfc0b){const _0x2fadd4=_0x23c5f4,_0x2395f9=_0x1dfc0b['posicaoTela'];contexto[_0x2fadd4(0x1b4)]=_0x2fadd4(0x1f8),contexto[_0x2fadd4(0x1fe)]=_0x2fadd4(0x17f)+0xc/visao['escala']+_0x2fadd4(0x207),contexto[_0x2fadd4(0x175)](_0x2fadd4(0x1e9),_0x2395f9['x']+_0x2395f9[_0x2fadd4(0x1bb)]-0x32,_0x2395f9['y']+_0x2395f9[_0x2fadd4(0x1bb)]-0x5),contexto[_0x2fadd4(0x1b4)]=_0x2fadd4(0x19c),contexto[_0x2fadd4(0x1fe)]=0xc/visao[_0x2fadd4(0x1e5)]+_0x2fadd4(0x207),contexto[_0x2fadd4(0x1e1)]=_0x2fadd4(0x1a0),contexto[_0x2fadd4(0x19a)]='top',contexto[_0x2fadd4(0x175)](_0x1dfc0b['grauParentesco']||'',_0x2395f9['x']+_0x2395f9[_0x2fadd4(0x1bb)]/0x2,_0x2395f9['y']+0x2),contexto[_0x2fadd4(0x1fe)]=0xe/visao[_0x2fadd4(0x1e5)]+_0x2fadd4(0x207),contexto[_0x2fadd4(0x19a)]=_0x2fadd4(0x1ba),contexto[_0x2fadd4(0x175)](_0x1dfc0b['nome'],_0x2395f9['x']+_0x2395f9['tamanho']/0x2,_0x2395f9['y']+_0x2395f9[_0x2fadd4(0x1bb)]/0x2);}function _0x20ed(){const _0x3e17c3=['toISOString','bold\x20','1858068DoCXMA','117942izGZjK','baixo','membros','botaoAdicionarCancelar','offsetX','direita','botaoAdicionarSalvar','tetravô','trisavô','posicaoTela','deslocamentoX','warn','moveTo','strokeStyle','entradaNome','onclick','left','criar-tio','Membro\x20','deslocamentoY','#ccc','toString','log','touches','conexoes','textBaseline','value','black','filho','innerHTML','estadoArvoreFamiliar','center','pai','blue','conectar-bisavô-','805yAfHJL','getBoundingClientRect','tio\x20bisavô','1sgXQGE','info','tio-avô','forEach','lineWidth','clientY','contadorMembros','addEventListener','sobrinho','some','indexOf','clientX','console','fillStyle','floor','table','block','textContent','bisneto','middle','tamanho','(((.+)+)+)+$','touchmove','2004855pffWkz','preventDefault','__proto__','criar-tio-bisavô','entradaNascimento','topo','mouseup','appendChild','toLowerCase','primo','direcao','width','option','irmao','top','conectar-avô-','round','mae','fillRect','Criar\x20novo\x20tio\x20bisavô','return\x20(function()\x20','2557578iUHeOv','00000000-0000-0000-0000-000000000000','replace','somenteLink','Conectar\x20com\x20avô\x20-\x20','idDestino','clearRect','getElementById','entradaGenero','prototype','deltaY','grauParentesco','conectar-tioavô-','neto','textAlign','setItem','8427654cDPnyN','sqrt','escala','tio','search','tipoLink','editar','1112ntNTTD','display','beginPath','entradaPais','entradaParentesco','bisavô','disabled','filter','touchcancel','Criar\x20novo\x20tio','stringify','direcaoCriacao','style','esquerda','white','lineTo','Conectar\x20com\x20tio-avô\x20-\x20','length','startsWith','constructor','font','848697WywAQD','exception','Brasil','avô','outro','bind','Novo\x20Membro\x20','find','px\x20Arial','Conectar\x20com\x20bisavô\x20-\x20','{}.constructor(\x22return\x20this\x22)(\x20)','tataraneto','arc','trace','stroke','touchstart','temDescendente','fill','scale','Criar\x20novo\x20tio-avô','nome','conectar-tio-','avô\x20(nível\x20','fillText','touchend','push','apply','createElement','wheel','restore','save','visao'];_0x20ed=function(){return _0x3e17c3;};return _0x20ed();}let membroArrastando=null,deslocamentoArraste={'x':0x0,'y':0x0},arrastandoGrade=![],inicioArrasteGrade={'x':0x0,'y':0x0},deslocamentoInicialVisao={'deslocamentoX':0x0,'deslocamentoY':0x0};elementoCanvas[_0x23c5f4(0x1ae)](_0x23c5f4(0x17a),_0x49a40d=>{const _0x4ae21a=_0x23c5f4;_0x49a40d['preventDefault']();const _0x451f53=_0x49a40d['offsetX'],_0x3f1753=_0x49a40d['offsetY'],_0x43bae8=obterCoordenadasMundo(_0x451f53,_0x3f1753);if(_0x49a40d[_0x4ae21a(0x1dd)]<0x0)visao[_0x4ae21a(0x1e5)]*=1.1;else visao[_0x4ae21a(0x1e5)]/=1.1;visao[_0x4ae21a(0x18b)]=_0x451f53-_0x43bae8['x']*visao[_0x4ae21a(0x1e5)],visao['deslocamentoY']=_0x3f1753-_0x43bae8['y']*visao['escala'],desenharTudo(),salvarEstado();}),elementoCanvas[_0x23c5f4(0x1ae)]('mousedown',tratarInicio),elementoCanvas['addEventListener'](_0x23c5f4(0x16d),tratarInicio),elementoCanvas[_0x23c5f4(0x1ae)]('mousemove',tratarMovimento),elementoCanvas[_0x23c5f4(0x1ae)](_0x23c5f4(0x1bd),tratarMovimento),elementoCanvas[_0x23c5f4(0x1ae)](_0x23c5f4(0x1c4),tratarFim),elementoCanvas[_0x23c5f4(0x1ae)](_0x23c5f4(0x176),tratarFim),elementoCanvas['addEventListener'](_0x23c5f4(0x1f2),tratarFim);function obterCoordenadasPonteiro(_0x565951){const _0x475901=_0x23c5f4,_0x3d1f79=elementoCanvas[_0x475901(0x1a5)]();if(_0x565951[_0x475901(0x198)]&&_0x565951[_0x475901(0x198)][_0x475901(0x1fb)]>0x0)return{'x':_0x565951[_0x475901(0x198)][0x0][_0x475901(0x1b2)]-_0x3d1f79[_0x475901(0x191)],'y':_0x565951[_0x475901(0x198)][0x0][_0x475901(0x1ac)]-_0x3d1f79[_0x475901(0x1cc)]};return{'x':_0x565951[_0x475901(0x185)],'y':_0x565951['offsetY']};}function obterCoordenadasMundo(_0x40c33c,_0xd3f85c){const _0x699f01=_0x23c5f4;return{'x':(_0x40c33c-visao[_0x699f01(0x18b)])/visao['escala'],'y':(_0xd3f85c-visao[_0x699f01(0x194)])/visao[_0x699f01(0x1e5)]};}function tratarInicio(_0x5eab54){const _0x4fbbf7=_0x23c5f4;_0x5eab54[_0x4fbbf7(0x1bf)]();const _0x11165f=obterCoordenadasPonteiro(_0x5eab54),_0x30dbf6=obterCoordenadasMundo(_0x11165f['x'],_0x11165f['y']),_0x4d2a06=_0x30dbf6['x'],_0x391861=_0x30dbf6['y'];for(let _0x37e6bb=membros[_0x4fbbf7(0x1fb)]-0x1;_0x37e6bb>=0x0;_0x37e6bb--){const _0x261d12=membros[_0x37e6bb];if(_0x261d12[_0x4fbbf7(0x1d6)])continue;const _0x4864e6=_0x261d12[_0x4fbbf7(0x18a)];if(pontoDentroRetangulo(_0x4d2a06,_0x391861,_0x4864e6['x'],_0x4864e6['y'],_0x4864e6[_0x4fbbf7(0x1bb)],_0x4864e6[_0x4fbbf7(0x1bb)])){membroArrastando=_0x261d12,deslocamentoArraste['x']=_0x4d2a06-_0x4864e6['x'],deslocamentoArraste['y']=_0x391861-_0x4864e6['y'];return;}}for(let _0x471f13 of membros){if(_0x471f13['somenteLink'])continue;const _0x4cc972=_0x471f13[_0x4fbbf7(0x18a)],_0x9f767d=_0x4cc972[_0x4fbbf7(0x1bb)]/0x2;if(_0x471f13[_0x4fbbf7(0x1de)]['toLowerCase']()===linhaPai[linhaPai[_0x4fbbf7(0x1fb)]-0x1])continue;if(clicouNoMais(_0x4d2a06,_0x391861,_0x4cc972['x']+_0x9f767d,_0x4cc972['y']-distanciaDeslocamento)){if(_0x471f13[_0x4fbbf7(0x1de)][_0x4fbbf7(0x1c6)]()==='irmao')continue;mostrarModalAdicionar(_0x471f13,'topo');return;}if(_0x471f13['grauParentesco']['toLowerCase']()!==_0x4fbbf7(0x1e0)){if(_0x471f13[_0x4fbbf7(0x1de)][_0x4fbbf7(0x1c6)]()===_0x4fbbf7(0x1c7)){if(clicouNoMais(_0x4d2a06,_0x391861,_0x4cc972['x']+_0x9f767d,_0x4cc972['y']+_0x4cc972[_0x4fbbf7(0x1bb)]+distanciaDeslocamento+0x5)){mostrarModalAdicionar(_0x471f13,_0x4fbbf7(0x182));return;}}else{if(clicouNoMais(_0x4d2a06,_0x391861,_0x4cc972['x']+_0x9f767d,_0x4cc972['y']+_0x4cc972['tamanho']+distanciaDeslocamento)){mostrarModalAdicionar(_0x471f13,_0x4fbbf7(0x182));return;}}}if(_0x471f13[_0x4fbbf7(0x1de)][_0x4fbbf7(0x1c6)]()==='eu'){if(clicouNoMais(_0x4d2a06,_0x391861,_0x4cc972['x']-distanciaDeslocamento,_0x4cc972['y']+_0x4cc972[_0x4fbbf7(0x1bb)]/0x2)){mostrarModalAdicionar(_0x471f13,_0x4fbbf7(0x1f7));return;}if(clicouNoMais(_0x4d2a06,_0x391861,_0x4cc972['x']+_0x4cc972[_0x4fbbf7(0x1bb)]+distanciaDeslocamento,_0x4cc972['y']+_0x4cc972[_0x4fbbf7(0x1bb)]/0x2)){mostrarModalAdicionar(_0x471f13,_0x4fbbf7(0x186));return;}}}arrastandoGrade=!![],inicioArrasteGrade={'x':_0x11165f['x'],'y':_0x11165f['y']},deslocamentoInicialVisao={'deslocamentoX':visao[_0x4fbbf7(0x18b)],'deslocamentoY':visao[_0x4fbbf7(0x194)]};}function tratarMovimento(_0x256d82){const _0xe3acf7=_0x23c5f4;_0x256d82[_0xe3acf7(0x1bf)]();const _0xe1b2d1=obterCoordenadasPonteiro(_0x256d82);if(membroArrastando){const _0x64d28=obterCoordenadasMundo(_0xe1b2d1['x'],_0xe1b2d1['y']);let _0x2c0120=_0x64d28['x']-deslocamentoArraste['x'],_0x5ad956=_0x64d28['y']-deslocamentoArraste['y'];_0x2c0120=Math[_0xe3acf7(0x1ce)](_0x2c0120/gridSize)*gridSize,_0x5ad956=Math[_0xe3acf7(0x1ce)](_0x5ad956/gridSize)*gridSize,membroArrastando[_0xe3acf7(0x18a)]['x']=_0x2c0120,membroArrastando['posicaoTela']['y']=_0x5ad956,desenharTudo();}else{if(arrastandoGrade){const _0x53d56d=_0xe1b2d1['x']-inicioArrasteGrade['x'],_0x468b7e=_0xe1b2d1['y']-inicioArrasteGrade['y'];visao[_0xe3acf7(0x18b)]=deslocamentoInicialVisao[_0xe3acf7(0x18b)]+_0x53d56d,visao[_0xe3acf7(0x194)]=deslocamentoInicialVisao[_0xe3acf7(0x194)]+_0x468b7e,desenharTudo();}}}function tratarFim(_0x4839a0){const _0x45a1f7=_0x23c5f4;_0x4839a0[_0x45a1f7(0x1bf)](),(membroArrastando||arrastandoGrade)&&salvarEstado(),membroArrastando=null,arrastandoGrade=![];}function pontoDentroRetangulo(_0x3277b4,_0x48ebee,_0x198c34,_0x329a84,_0x34c941,_0x232b37){return _0x3277b4>=_0x198c34&&_0x3277b4<=_0x198c34+_0x34c941&&_0x48ebee>=_0x329a84&&_0x48ebee<=_0x329a84+_0x232b37;}function clicouNoMais(_0x4de682,_0x324af8,_0x2ea9d8,_0x36a7a5){const _0x48b28b=_0x23c5f4,_0x30d9c4=_0x4de682-_0x2ea9d8,_0x312000=_0x324af8-_0x36a7a5,_0x55c597=Math[_0x48b28b(0x1e4)](_0x30d9c4*_0x30d9c4+_0x312000*_0x312000);return _0x55c597<=0x14;}function jaTemConexaoAcima(_0x5eae92){const _0x5434f0=_0x23c5f4;if(_0x5eae92[_0x5434f0(0x1de)][_0x5434f0(0x1c6)]()==='eu')return![];return _0x5eae92[_0x5434f0(0x199)][_0x5434f0(0x1b0)](_0x1d2ba5=>_0x1d2ba5[_0x5434f0(0x1c8)]===_0x5434f0(0x1c3));}carregarEstado(),desenharTudo();